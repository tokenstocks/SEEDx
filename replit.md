# SEEDx MVP - Sustainable Ecosystem for Economic Development exchange

**Tagline**: Plant capital. Grow impact. A regenerative capital exchange.

## Overview
SEEDx is a blockchain-based regenerative capital platform on the Stellar network focused on tokenized agricultural participation. It connects Primers (liquidity providers) with Regenerators (token traders) to fund agricultural projects, facilitating automated cashflow distribution and capital regeneration. The platform uses SEC-compliant language throughout to reduce securities classification risk, emphasizing utility tokens and participation rather than investment terminology. Features include secure authentication, KYC, multi-currency wallet management, and a premium mobile-first interface with investor-grade presentation.

## User Preferences
Preferred communication style: Simple, everyday language.

## System Architecture

### Core Design
The platform utilizes a React and TypeScript frontend with Vite, Wouter, and TanStack Query, styled using Tailwind CSS and Shadcn UI for a mobile-first, fintech-inspired design. The backend is built with Node.js, Express.js, and TypeScript, leveraging Drizzle ORM with PostgreSQL. Authentication is JWT-based with bcrypt for password hashing and AES-256-CBC for encryption. Stellar SDK is integrated for blockchain operations, supporting a hybrid wallet model with encrypted Stellar secret keys.

### Key Features & Implementations
- **Authentication & KYC:** JWT-based authentication, user registration (with Primer/Regenerator account type selector), and a KYC system for ID verification with admin review.
- **Stellar Integration:** Manages on-chain operations (testnet/mainnet), wallet activation, NGNTS token issuance, and a 4-wallet architecture (Operations, Treasury, Distribution, Liquidity Pool) for asset management. **Critical Fix (Nov 2025):** Deposit approval workflow now properly uses Operations platform wallet (`wallet_type='operations'`) for funding new user accounts instead of admin personal wallet. Friendbot auto-activation implemented for testnet to bootstrap unfunded Operations wallet. Database schema updated from `json` to `jsonb` type for `crypto_balances` column, resolving COALESCE type conversion errors during balance updates.
- **Primer User Class & LP Pool System (Nov 2025):** Institutional partners (Primers) contribute grant/CSR capital to the Liquidity Pool through an admin-approved workflow. Database schema includes `primer_contributions` (with status workflow and LP share snapshots), `lp_project_allocations` (admin allocation headers), and `primer_project_allocations` (tracks which Primers funded which projects). Primer Dashboard displays: total contributed, active projects funded, LP Pool share percentage, and regenerators enabled. Admin Primers interface allows reviewing pending contributions, approving deposits (which transfers NGNTS to LP Pool wallet and calculates share snapshots), and rejecting requests. Primers receive blockchain transaction hashes for auditability but no tokens - only capital flow visibility through allocation tracking. This creates the regenerative capital cycle: Primers → LP Pool → Admin Allocation → Projects → Token Sales → LP Pool Replenishment. **Primer Identity & Profile (Nov 2025):** PrimerHeader component provides sticky navigation with user identity display (email + initials avatar) at top right corner, profile dropdown menu with navigation links (Profile & KYC, Dashboard) and sign-out functionality. PrimerProfile page displays comprehensive account information (email, account type with Active badge, member since date), KYC verification status with contextual messaging (Approved/Pending/Rejected/Not Submitted), quick action buttons for dashboard/KYC navigation, and platform benefits list. **Primer Capital Flow Timeline (Nov 2025):** Social media-style activity feed in Primer Dashboard showing chronological events: LP contributions (submitted/approved/rejected with amounts and TX hashes), capital allocations to projects (with project details and share percentages). Features Twitter-style relative timestamps, color-coded event icons, loading states, and Framer Motion animations. Backend aggregates events from multiple sources via GET /api/primer/timeline endpoint. All interactive and meaningful elements include data-testid attributes for automated testing compliance.
- **Investment & Portfolio Management:** Supports multi-currency investments (NGN, USDC, XLM), trustline management, and atomic database updates.
- **Regenerative Capital Architecture:** A multi-pool system with NAV-based token pricing and automated cashflow distribution (60% treasury, 20% LP investors, 10% reinvestment, 10% operational fees).
- **Token Marketplace:** An internal peer-to-peer marketplace for trading project tokens with an order book, NAV-based price discovery, automatic order matching, and atomic balance transfers.
- **LP Lock Policy Controls:** Flexible token lock mechanisms including time-locked and permanent locks, with an auto-unlock job for expired time-locks.
- **NGNTS Burning:** NGNTS tokens are burned upon NGN withdrawal to maintain a 1:1 peg.
- **Admin Dashboards:** APIs and UI for managing metrics, users, KYC, transactions, projects, wallets, blockchain activity, treasury, and cashflow processing.
- **Redemption System:** Allows users to sell project tokens for NGNTS, prioritizing funding from project cashflow, then treasury, then liquidity pool, with NAV locking and atomic processing.
- **UI/UX & Responsiveness:** Features investor-grade presentation with Framer Motion animations, enhanced logo, dynamic typewriter headlines, premium CTA buttons, interactive trust badges, and comprehensive mobile responsiveness across all sections, including optimized typography and accessibility features like `prefers-reduced-motion` support. SEC-compliant language is used throughout the platform to mitigate securities classification risk, with zero instances of "investment" or "investor" terminology on the landing page.
- **Landing Page Structure (SEC-Compliant):** The landing page follows a strategic flow: Navbar → Hero Section (with dual audience toggle) → How It Works Section (3-step process with legal disclaimer) → Featured Farms Section (product showcase with participation notice) → Why SEEDx Section (6 comprehensive benefits, comparison table, trust stats, CTAs) → FAQ Section (educational Q&A with flexible language and progressive "Load More") → Final CTA Section (conversion-focused with stats) → Footer (comprehensive links, newsletter, trust badges, disclaimer). Core sections use SEC-safe language emphasizing "participation," "utility tokens," and "funding" rather than investment terminology.
- **Why SEEDx Section:** Comprehensive benefits showcase featuring: (1) 6 benefit cards with Lucide icons highlighting verification, transparency, monitoring, regenerative impact, accessibility, and expert support, (2) comparison table showing SEEDx advantages vs traditional agriculture funding with responsive desktop/mobile views, (3) 4 trust statistics (active participants, countries, farms, hectares), and (4) dual CTAs for user conversion. Uses Framer Motion animations with `prefers-reduced-motion` support for accessibility.
- **FAQ Section:** Comprehensive educational FAQ with 15 questions across 4 categories (Getting Started, Financial, Technical, Legal & Compliance). Features progressive disclosure (shows 6 initially, "Load More" for next 6), category filtering, Shadcn Accordion component, Framer Motion animations with reduced motion support, highlighted risk disclosures, fee tables, and "Still Have Questions?" CTA. Uses more flexible, natural language (including terms like "investment" and "returns") for educational clarity while maintaining legal disclaimers throughout.
- **Final CTA Section:** Conversion-focused section with emerald "Join The Movement" badge, compelling headline, dual CTAs (Get Started Now, Browse Farms), and 3 trust statistics ($2.4M+ funded, 47 active farms, 1,200+ participants). Uses gradient backgrounds and Framer Motion animations.
- **Footer:** Premium footer featuring: (1) Company branding with parent organization mention (SEED), (2) 5 link columns (Platform, Resources, Company, Legal), (3) Social media links (Twitter, LinkedIn, Instagram, Telegram, Discord), (4) Newsletter signup form with email input, (5) 4 trust badges (SEC Compliant, Bank-Level Security, Audited Smart Contracts, Verified Regenerative), (6) Bottom bar with copyright, expandable risk disclaimer, and language selector. Uses Shadcn components and Lucide icons throughout.
- **About Page:** Comprehensive About Us page with 6 sections: (1) Hero section with dark gradient background, animated scroll indicator (respects reduced motion preferences), and engaging headline, (2) Mission section with 4 animated stat cards showing tokenized assets, active farms, community members, and countries reached, (3) Features section highlighting blockchain security, competitive returns, community-driven approach, and global access with gradient hover effects, (4) Story section with timeline showing Q1-Q4 2024 milestones from platform launch to $5M+ in assets, (5) Foundation section showcasing SEED parent organization with prominent call-to-action, and (6) CTA section with dual action buttons over dark background. All interactive and display elements include comprehensive data-testid attributes for testing. Uses Framer Motion animations throughout with full accessibility support including prefers-reduced-motion handling.

## External Dependencies

### Third-Party Services
- **Supabase:** PostgreSQL database hosting and file storage.
- **Stellar Network:** Blockchain platform for tokenized assets and transactions (testnet configured).
  - **Testnet Bootstrap:** Operations wallet automatically funded via Friendbot if not activated on-chain
  - **Mainnet Requirement:** Operations wallet must be manually funded before mainnet launch to avoid runtime failures

### NPM Dependencies
- **Frontend:** `react`, `react-dom`, `vite`, `wouter`, `@tanstack/react-query`, `tailwindcss`, `@radix-ui/*`, `class-variance-authority`, `clsx`, `tailwind-merge`.
- **Backend:** `express`, `drizzle-orm`, `@neondatabase/serverless`, `drizzle-kit`, `jsonwebtoken`, `bcrypt`, `stellar-sdk`, `@supabase/supabase-js`, `multer`, `zod`, `drizzle-zod`.
- **Utilities:** `typescript`, `crypto`.